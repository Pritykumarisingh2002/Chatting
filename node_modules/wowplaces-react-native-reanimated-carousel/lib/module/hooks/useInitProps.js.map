{"version":3,"names":["React","computedFillDataWithAutoFillData","useInitProps","props","defaultIndex","data","rawData","loop","autoPlayInterval","_autoPlayInterval","scrollAnimationDuration","style","panGestureHandlerProps","autoFillData","enabled","pagingEnabled","overscrollEnabled","snapEnabled","enableSnap","width","_width","height","_height","Math","round","max","useMemo","dataLength","length","rawDataLength","mode","_props$modeConfig","modeConfig","showLength"],"sources":["useInitProps.ts"],"sourcesContent":["import React from \"react\";\n\nimport type { TCarouselProps } from \"../types\";\nimport { computedFillDataWithAutoFillData } from \"../utils/computedWithAutoFillData\";\n\ntype TGetRequiredProps<P extends keyof TCarouselProps> = Record<\nP,\nRequired<TCarouselProps>[P]\n>;\n\nexport type TInitializeCarouselProps<T> = TCarouselProps<T> &\nTGetRequiredProps<\n| \"defaultIndex\"\n| \"loop\"\n| \"width\"\n| \"height\"\n| \"scrollAnimationDuration\"\n| \"autoPlayInterval\"\n| \"autoFillData\"\n> & {\n  // Raw data that has not been processed\n  rawData: T[]\n  dataLength: number\n  rawDataLength: number\n};\n\nexport function useInitProps<T>(\n  props: TCarouselProps<T>,\n): TInitializeCarouselProps<T> {\n  const {\n    defaultIndex = 0,\n    data: rawData = [],\n    loop = true,\n    autoPlayInterval: _autoPlayInterval = 1000,\n    scrollAnimationDuration = 500,\n    style = {},\n    panGestureHandlerProps = {},\n    autoFillData = true,\n    // switchers\n    enabled = true,\n    pagingEnabled = true,\n    overscrollEnabled = true,\n    snapEnabled = props.enableSnap ?? true,\n    width: _width,\n    height: _height,\n  } = props;\n\n  const width = Math.round(_width || 0);\n  const height = Math.round(_height || 0);\n  const autoPlayInterval = Math.max(_autoPlayInterval, 0);\n\n  const data = React.useMemo<T[]>(\n    () => {\n      return computedFillDataWithAutoFillData<T>({\n        loop,\n        autoFillData,\n        data: rawData,\n        dataLength: rawData.length,\n      });\n    },\n    [rawData, loop, autoFillData],\n  );\n\n  const dataLength = data.length;\n  const rawDataLength = rawData.length;\n\n  if (props.mode === \"vertical-stack\" || props.mode === \"horizontal-stack\") {\n    if (!props.modeConfig)\n      props.modeConfig = {};\n\n    props.modeConfig.showLength = props.modeConfig?.showLength ?? dataLength - 1;\n  }\n\n  return {\n    ...props,\n    defaultIndex,\n    autoFillData,\n    // Fill data with autoFillData\n    data,\n    // Length of fill data\n    dataLength,\n    // Raw data that has not been processed\n    rawData,\n    // Length of raw data\n    rawDataLength,\n    loop,\n    enabled,\n    autoPlayInterval,\n    scrollAnimationDuration,\n    style,\n    panGestureHandlerProps,\n    pagingEnabled,\n    snapEnabled,\n    overscrollEnabled,\n    width,\n    height,\n  };\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,SAASC,gCAAgC,QAAQ,mCAAmC;AAuBpF,OAAO,SAASC,YAAYA,CAC1BC,KAAwB,EACK;EAC7B,MAAM;IACJC,YAAY,GAAG,CAAC;IAChBC,IAAI,EAAEC,OAAO,GAAG,EAAE;IAClBC,IAAI,GAAG,IAAI;IACXC,gBAAgB,EAAEC,iBAAiB,GAAG,IAAI;IAC1CC,uBAAuB,GAAG,GAAG;IAC7BC,KAAK,GAAG,CAAC,CAAC;IACVC,sBAAsB,GAAG,CAAC,CAAC;IAC3BC,YAAY,GAAG,IAAI;IACnB;IACAC,OAAO,GAAG,IAAI;IACdC,aAAa,GAAG,IAAI;IACpBC,iBAAiB,GAAG,IAAI;IACxBC,WAAW,GAAGd,KAAK,CAACe,UAAU,IAAI,IAAI;IACtCC,KAAK,EAAEC,MAAM;IACbC,MAAM,EAAEC;EACV,CAAC,GAAGnB,KAAK;EAET,MAAMgB,KAAK,GAAGI,IAAI,CAACC,KAAK,CAACJ,MAAM,IAAI,CAAC,CAAC;EACrC,MAAMC,MAAM,GAAGE,IAAI,CAACC,KAAK,CAACF,OAAO,IAAI,CAAC,CAAC;EACvC,MAAMd,gBAAgB,GAAGe,IAAI,CAACE,GAAG,CAAChB,iBAAiB,EAAE,CAAC,CAAC;EAEvD,MAAMJ,IAAI,GAAGL,KAAK,CAAC0B,OAAO,CACxB,MAAM;IACJ,OAAOzB,gCAAgC,CAAI;MACzCM,IAAI;MACJM,YAAY;MACZR,IAAI,EAAEC,OAAO;MACbqB,UAAU,EAAErB,OAAO,CAACsB;IACtB,CAAC,CAAC;EACJ,CAAC,EACD,CAACtB,OAAO,EAAEC,IAAI,EAAEM,YAAY,CAAC,CAC9B;EAED,MAAMc,UAAU,GAAGtB,IAAI,CAACuB,MAAM;EAC9B,MAAMC,aAAa,GAAGvB,OAAO,CAACsB,MAAM;EAEpC,IAAIzB,KAAK,CAAC2B,IAAI,KAAK,gBAAgB,IAAI3B,KAAK,CAAC2B,IAAI,KAAK,kBAAkB,EAAE;IAAA,IAAAC,iBAAA;IACxE,IAAI,CAAC5B,KAAK,CAAC6B,UAAU,EACnB7B,KAAK,CAAC6B,UAAU,GAAG,CAAC,CAAC;IAEvB7B,KAAK,CAAC6B,UAAU,CAACC,UAAU,GAAG,EAAAF,iBAAA,GAAA5B,KAAK,CAAC6B,UAAU,cAAAD,iBAAA,uBAAhBA,iBAAA,CAAkBE,UAAU,KAAIN,UAAU,GAAG,CAAC;EAC9E;EAEA,OAAO;IACL,GAAGxB,KAAK;IACRC,YAAY;IACZS,YAAY;IACZ;IACAR,IAAI;IACJ;IACAsB,UAAU;IACV;IACArB,OAAO;IACP;IACAuB,aAAa;IACbtB,IAAI;IACJO,OAAO;IACPN,gBAAgB;IAChBE,uBAAuB;IACvBC,KAAK;IACLC,sBAAsB;IACtBG,aAAa;IACbE,WAAW;IACXD,iBAAiB;IACjBG,KAAK;IACLE;EACF,CAAC;AACH"}