{"version":3,"names":["React","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","useAutoPlay","opts","_opts$autoPlay","autoPlay","_opts$autoPlayReverse","autoPlayReverse","autoPlayInterval","carouselController","prev","next","timer","useRef","stopped","play","useCallback","current","clearTimeout","setTimeout","onFinished","pause","start","useEffect"],"sources":["useAutoPlay.ts"],"sourcesContent":["import * as React from \"react\";\n\nimport type { ICarouselController } from \"./useCarouselController\";\n\nexport function useAutoPlay(opts: {\n  autoPlay?: boolean\n  autoPlayInterval?: number\n  autoPlayReverse?: boolean\n  carouselController: ICarouselController\n}) {\n  const {\n    autoPlay = false,\n    autoPlayReverse = false,\n    autoPlayInterval,\n    carouselController,\n  } = opts;\n\n  const { prev, next } = carouselController;\n  const timer = React.useRef<NodeJS.Timer>();\n  const stopped = React.useRef<boolean>(!autoPlay);\n\n  const play = React.useCallback(() => {\n    if (stopped.current)\n      return;\n\n    timer.current && clearTimeout(timer.current);\n    timer.current = setTimeout(() => {\n      autoPlayReverse\n        ? prev({ onFinished: play })\n        : next({ onFinished: play });\n    }, autoPlayInterval);\n  }, [autoPlayReverse, autoPlayInterval, prev, next]);\n\n  const pause = React.useCallback(() => {\n    if (!autoPlay)\n      return;\n\n    timer.current && clearTimeout(timer.current);\n    stopped.current = true;\n  }, [autoPlay]);\n\n  const start = React.useCallback(() => {\n    if (!autoPlay)\n      return;\n\n    stopped.current = false;\n    play();\n  }, [play, autoPlay]);\n\n  React.useEffect(() => {\n    if (autoPlay)\n      start();\n    else\n      pause();\n\n    return pause;\n  }, [pause, start, autoPlay]);\n\n  return {\n    pause,\n    start,\n  };\n}\n"],"mappings":"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"}