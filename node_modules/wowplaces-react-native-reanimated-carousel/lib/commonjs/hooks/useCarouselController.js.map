{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_constants","_computedWithAutoFillData","_dealWithAnimation","_handlerOffsetDirection","_log","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_worklet_11883385583138_init_data","code","location","sourceMap","_worklet_6063199752963_init_data","_worklet_8876815392037_init_data","_worklet_1856840040824_init_data","_worklet_7037612364285_init_data","useCarouselController","options","size","loop","dataLength","handlerOffset","withAnimation","_options$defaultIndex","defaultIndex","duration","autoFillData","dataInfo","React","useMemo","length","disable","originalLength","index","useSharedValue","sharedIndex","useRef","sharedPreIndex","currentFixedPage","useCallback","Math","round","value","fixed","abs","setSharedIndex","newSharedIndex","current","useAnimatedReaction","_e","global","Error","_f","handlerOffsetValue","toInt","isPositive","i","newSharedIndexValue","convertToSharedIndex","rawDataLength","_closure","__initData","__workletHash","__stackDetails","__version","_ref","runOnJS","getCurrentIndex","realIndex","computedRealIndexWithAutoFillData","canSliding","onScrollEnd","onScrollBegin","scrollWithTiming","toValue","onFinished","callback","isFinished","defaultWithAnimation","type","config","easing","Easing","easeOutQuart","dealWithAnimation","next","opts","arguments","undefined","_opts$count","count","_opts$animated","animated","nextPage","prev","_opts$count2","_opts$animated2","prevPage","to","_opts$animated3","direction","handlerOffsetDirection","offset","totalSize","isCloseToNextLoop","finalOffset","floor","scrollTo","_opts$animated4","n","getSharedIndex"],"sources":["useCarouselController.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport type Animated from \"react-native-reanimated\";\nimport {\n  runOnJS,\n  useAnimatedReaction,\n  useSharedValue,\n} from \"react-native-reanimated\";\n\nimport { Easing } from \"../constants\";\nimport type {\n  TCarouselActionOptions,\n  TCarouselProps,\n  WithTimingAnimation,\n} from \"../types\";\nimport { computedRealIndexWithAutoFillData, convertToSharedIndex } from \"../utils/computedWithAutoFillData\";\nimport { dealWithAnimation } from \"../utils/dealWithAnimation\";\nimport { handlerOffsetDirection } from \"../utils/handlerOffsetDirection\";\nimport { round } from \"../utils/log\";\n\ninterface IOpts {\n  loop: boolean\n  size: number\n  dataLength: number\n  autoFillData: TCarouselProps[\"autoFillData\"]\n  handlerOffset: Animated.SharedValue<number>\n  withAnimation?: TCarouselProps[\"withAnimation\"]\n  duration?: number\n  defaultIndex?: number\n  onScrollBegin?: () => void\n  onScrollEnd?: () => void\n}\n\nexport interface ICarouselController {\n  getSharedIndex: () => number\n  prev: (opts?: TCarouselActionOptions) => void\n  next: (opts?: TCarouselActionOptions) => void\n  getCurrentIndex: () => number\n  scrollTo: (opts?: TCarouselActionOptions) => void\n}\n\nexport function useCarouselController(options: IOpts): ICarouselController {\n  const {\n    size,\n    loop,\n    dataLength,\n    handlerOffset,\n    withAnimation,\n    defaultIndex = 0,\n    duration,\n    autoFillData,\n  } = options;\n\n  const dataInfo = React.useMemo(\n    () => ({\n      length: dataLength,\n      disable: !dataLength,\n      originalLength: dataLength,\n    }),\n    [dataLength],\n  );\n\n  const index = useSharedValue<number>(defaultIndex);\n  // The Index displayed to the user\n  const sharedIndex = useRef<number>(defaultIndex);\n  const sharedPreIndex = useRef<number>(defaultIndex);\n\n  const currentFixedPage = React.useCallback(() => {\n    if (loop)\n      return -Math.round(handlerOffset.value / size);\n\n    const fixed = (handlerOffset.value / size) % dataInfo.length;\n    return Math.round(\n      handlerOffset.value <= 0\n        ? Math.abs(fixed)\n        : Math.abs(fixed > 0 ? dataInfo.length - fixed : 0),\n    );\n  }, [handlerOffset, dataInfo, size, loop]);\n\n  function setSharedIndex(newSharedIndex: number) {\n    sharedIndex.current = newSharedIndex;\n  }\n\n  useAnimatedReaction(\n    () => {\n      const handlerOffsetValue = handlerOffset.value;\n      const toInt = round(handlerOffsetValue / size) % dataInfo.length;\n      const isPositive = handlerOffsetValue <= 0;\n      const i = isPositive\n        ? Math.abs(toInt)\n        : Math.abs(toInt > 0 ? dataInfo.length - toInt : 0);\n\n      const newSharedIndexValue = convertToSharedIndex({\n        loop,\n        rawDataLength: dataInfo.originalLength,\n        autoFillData: autoFillData!,\n        index: i,\n      });\n\n      return {\n        i,\n        newSharedIndexValue,\n      };\n    },\n    ({ i, newSharedIndexValue }) => {\n      index.value = i;\n      runOnJS(setSharedIndex)(newSharedIndexValue);\n    },\n    [\n      sharedPreIndex,\n      sharedIndex,\n      size,\n      dataInfo,\n      index,\n      loop,\n      autoFillData,\n      handlerOffset,\n    ],\n  );\n\n  const getCurrentIndex = React.useCallback(() => {\n    const realIndex = computedRealIndexWithAutoFillData({\n      index: index.value,\n      dataLength: dataInfo.originalLength,\n      loop,\n      autoFillData: autoFillData!,\n    });\n\n    return realIndex;\n  }, [index, autoFillData, dataInfo, loop]);\n\n  const canSliding = React.useCallback(() => {\n    return !dataInfo.disable;\n  }, [dataInfo]);\n\n  const onScrollEnd = React.useCallback(() => {\n    options.onScrollEnd?.();\n  }, [options]);\n\n  const onScrollBegin = React.useCallback(() => {\n    options.onScrollBegin?.();\n  }, [options]);\n\n  const scrollWithTiming = React.useCallback(\n    (toValue: number, onFinished?: () => void) => {\n      \"worklet\";\n      const callback = (isFinished: boolean) => {\n        \"worklet\";\n        if (isFinished) {\n          runOnJS(onScrollEnd)();\n          onFinished && runOnJS(onFinished)();\n        }\n      };\n\n      const defaultWithAnimation: WithTimingAnimation = {\n        type: \"timing\",\n        config: { duration, easing: Easing.easeOutQuart },\n      };\n\n      return dealWithAnimation(withAnimation ?? defaultWithAnimation)(\n        toValue,\n        callback,\n      );\n    },\n    [duration, withAnimation, onScrollEnd],\n  );\n\n  const next = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      \"worklet\";\n      const { count = 1, animated = true, onFinished } = opts;\n      if (!canSliding() || (!loop && index.value >= dataInfo.length - 1))\n        return;\n\n      onScrollBegin?.();\n\n      const nextPage = currentFixedPage() + count;\n      index.value = nextPage;\n\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(\n          -nextPage * size,\n          onFinished,\n        ) as any;\n      }\n      else {\n        handlerOffset.value = -nextPage * size;\n        onFinished?.();\n      }\n    },\n    [\n      canSliding,\n      loop,\n      index,\n      dataInfo,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      scrollWithTiming,\n      currentFixedPage,\n    ],\n  );\n\n  const prev = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      const { count = 1, animated = true, onFinished } = opts;\n      if (!canSliding() || (!loop && index.value <= 0)) return;\n\n      onScrollBegin?.();\n\n      const prevPage = currentFixedPage() - count;\n      index.value = prevPage;\n\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(\n          -prevPage * size,\n          onFinished,\n        );\n      }\n      else {\n        handlerOffset.value = -prevPage * size;\n        onFinished?.();\n      }\n    },\n    [\n      canSliding,\n      loop,\n      index,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      scrollWithTiming,\n      currentFixedPage,\n    ],\n  );\n\n  const to = React.useCallback(\n    (opts: { i: number; animated: boolean; onFinished?: () => void }) => {\n      const { i, animated = false, onFinished } = opts;\n      if (i === index.value) return;\n      if (!canSliding()) return;\n\n      onScrollBegin?.();\n      // direction -> 1 | -1\n      const direction = handlerOffsetDirection(handlerOffset);\n\n      // target offset\n      const offset = i * size * direction;\n      // page width size * page count\n      const totalSize = dataInfo.length * size;\n\n      let isCloseToNextLoop = false;\n\n      if (loop) {\n        isCloseToNextLoop\n                    = Math.abs(handlerOffset.value % totalSize) / totalSize\n                    >= 0.5;\n      }\n\n      const finalOffset\n                = (Math.floor(Math.abs(handlerOffset.value / totalSize))\n                    + (isCloseToNextLoop ? 1 : 0))\n                    * totalSize\n                    * direction\n                + offset;\n\n      if (animated) {\n        index.value = i;\n        handlerOffset.value = scrollWithTiming(finalOffset, onFinished);\n      }\n      else {\n        handlerOffset.value = finalOffset;\n        index.value = i;\n        onFinished?.();\n      }\n    },\n    [\n      index,\n      canSliding,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      dataInfo.length,\n      loop,\n      scrollWithTiming,\n    ],\n  );\n\n  const scrollTo = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      const { index: i, count, animated = false, onFinished } = opts;\n      if (typeof i === \"number\" && i > -1) {\n        to({ i, animated, onFinished });\n        return;\n      }\n\n      if (!count)\n        return;\n\n      const n = Math.round(count);\n\n      if (n < 0)\n        prev({ count: Math.abs(n), animated, onFinished });\n\n      else\n        next({ count: n, animated, onFinished });\n    },\n    [prev, next, to],\n  );\n\n  return {\n    next,\n    prev,\n    scrollTo,\n    getCurrentIndex,\n    getSharedIndex: () => sharedIndex.current,\n  };\n}\n"],"mappings":"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"}