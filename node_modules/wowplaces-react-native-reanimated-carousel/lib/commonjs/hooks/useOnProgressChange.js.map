{"version":3,"names":["_reactNativeReanimated","require","_computedWithAutoFillData","_worklet_15415777011180_init_data","code","location","sourceMap","_worklet_2512862808065_init_data","useOnProgressChange","opts","autoFillData","loop","offsetX","size","rawDataLength","onProgressChange","useAnimatedReaction","_e","global","Error","_f","value","_closure","__initData","__workletHash","__stackDetails","__version","_value","computedOffsetXValueWithAutoFillData","Math","max","min","absoluteProgress","abs","runOnJS"],"sources":["useOnProgressChange.ts"],"sourcesContent":["import type Animated from \"react-native-reanimated\";\nimport {\n  runOnJS,\n  useAnimatedReaction,\n} from \"react-native-reanimated\";\n\nimport type { TCarouselProps } from \"../types\";\nimport { computedOffsetXValueWithAutoFillData } from \"../utils/computedWithAutoFillData\";\n\nexport function useOnProgressChange(\n  opts: {\n    size: number\n    autoFillData: boolean\n    loop: boolean\n    offsetX: Animated.SharedValue<number>\n    rawDataLength: number\n  } & Pick<TCarouselProps, \"onProgressChange\">,\n) {\n  const { autoFillData, loop, offsetX, size, rawDataLength, onProgressChange }\n        = opts;\n\n  useAnimatedReaction(\n    () => offsetX.value,\n    (_value) => {\n      let value = computedOffsetXValueWithAutoFillData({\n        value: _value,\n        rawDataLength,\n        size,\n        autoFillData,\n        loop,\n      });\n\n      if (!loop) {\n        value = Math.max(\n          -((rawDataLength - 1) * size),\n          Math.min(value, 0),\n        );\n      }\n\n      let absoluteProgress = Math.abs(value / size);\n\n      if (value > 0)\n        absoluteProgress = rawDataLength - absoluteProgress;\n\n      if (onProgressChange)\n        runOnJS(onProgressChange)(value, absoluteProgress);\n    },\n    [loop, autoFillData, rawDataLength, onProgressChange],\n  );\n}\n"],"mappings":"yGACA,IAAAA,sBAAA,CAAAC,OAAA,4BAMA,IAAAC,yBAAA,CAAAD,OAAA,sCAAyF,IAAAE,iCAAA,EAAAC,IAAA,oGAAAC,QAAA,2GAAAC,SAAA,4SAAAC,gCAAA,EAAAH,IAAA,2qBAAAC,QAAA,2GAAAC,SAAA,oiCAElF,QAAS,CAAAE,mBAAmBA,CACjCC,IAM4C,CAC5C,CACA,GAAQ,CAAAC,YAAY,CACZD,IAAI,CADJC,YAAY,CAAEC,IAAI,CAClBF,IAAI,CADUE,IAAI,CAAEC,OAAO,CAC3BH,IAAI,CADgBG,OAAO,CAAEC,IAAI,CACjCJ,IAAI,CADyBI,IAAI,CAAEC,aAAa,CAChDL,IAAI,CAD+BK,aAAa,CAAEC,gBAAgB,CAClEN,IAAI,CAD8CM,gBAAgB,CAG1E,GAAAC,0CAAmB,iBAAAC,EAAA,MAAAC,MAAA,CAAAC,KAAA,eAAAC,EAAA,CACjB,SAAAA,GAAA,QAAM,CAAAR,OAAO,CAACS,KAAK,GAAAD,EAAA,CAAAE,QAAA,EAAAV,OAAA,CAtBhBA,OAAO,EAAAQ,EAAA,CAAAG,UAAA,CAAApB,iCAAA,CAAAiB,EAAA,CAAAI,aAAA,gBAAAJ,EAAA,CAAAK,cAAA,CAAAR,EAAA,CAAAG,EAAA,CAAAM,SAAA,gBAAAN,EAAA,oBAAAH,EAAA,MAAAC,MAAA,CAAAC,KAAA,eAAAC,EAAA,UAAAA,GAuBTO,MAAM,CAAK,CACV,GAAI,CAAAN,KAAK,CAAG,GAAAO,8DAAoC,EAAC,CAC/CP,KAAK,CAAEM,MAAM,CACbb,aAAa,CAAbA,aAAa,CACbD,IAAI,CAAJA,IAAI,CACJH,YAAY,CAAZA,YAAY,CACZC,IAAI,CAAJA,IACF,CAAC,CAAC,CAEF,GAAI,CAACA,IAAI,CAAE,CACTU,KAAK,CAAGQ,IAAI,CAACC,GAAG,CACd,EAAE,CAAChB,aAAa,CAAG,CAAC,EAAID,IAAI,CAAC,CAC7BgB,IAAI,CAACE,GAAG,CAACV,KAAK,CAAE,CAAC,CAAC,CACnB,CACH,CAEA,GAAI,CAAAW,gBAAgB,CAAGH,IAAI,CAACI,GAAG,CAACZ,KAAK,CAAGR,IAAI,CAAC,CAE7C,GAAIQ,KAAK,CAAG,CAAC,CACXW,gBAAgB,CAAGlB,aAAa,CAAGkB,gBAAgB,CAErD,GAAIjB,gBAAgB,CAClB,GAAAmB,8BAAO,EAACnB,gBAAgB,CAAC,CAACM,KAAK,CAAEW,gBAAgB,CAAC,CACtD,CAAC,CAAAZ,EAAA,CAAAE,QAAA,EAAAM,oCAAA,CA7CSA,8DAAoC,CAAAd,aAAA,CAWdA,aAAa,CAAAD,IAAA,CADPA,IAAI,CAAAH,YAAA,CAN1CA,YAAY,CAAAC,IAAA,CAGTA,IAAI,CAAAI,gBAAA,CAKqBA,gBAAgB,CAAAmB,OAAA,CAAxBA,8BAAO,EAAAd,EAAA,CAAAG,UAAA,CAAAhB,gCAAA,CAAAa,EAAA,CAAAI,aAAA,eAAAJ,EAAA,CAAAK,cAAA,CAAAR,EAAA,CAAAG,EAAA,CAAAM,SAAA,gBAAAN,EAAA,KAkC3B,CAACT,IAAI,CAAED,YAAY,CAAEI,aAAa,CAAEC,gBAAgB,CAAC,CACtD,CACH"}